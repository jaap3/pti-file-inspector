<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0A0A0A">
  <title>.pti file inspector</title>
  <link href="./css/sanitize.css" rel="stylesheet">
  <link href="./css/style.css" rel="stylesheet">
  <script src="js/main.js" type="module"></script>
</head>
<body>
  <main class="container">

    <section>
      <label for="pti-file-input">
        <span class="empty">
          Choose/Drop
          a&nbsp;Polyend&nbsp;Tracker instrument&nbsp;<small>(<code>.pti</code>)</small>
          or&nbsp;audio file <small>(<code>.wav</code>,&nbsp;<code>.mp3</code>,&nbsp;<code>.flac</code>, etc.)</small>
        </span>
        <span class="fname" hidden></span>
        <input id="pti-file-input" type="file" accept=".pti, audio/*" disabled>
      </label>
    </section>

    <section id="pti-instrument-preview"></section>
    <section id="toolbar"></section>
    <section id="pti-instrument-data"></section>
    <section id="pti-instrument-editor" hidden></section>

  </main>

  <template id="template:instrument-preview">
    <canvas class="waveform" height="150" width="300" title="Waveform"></canvas>
    <audio></audio>
    <div class="keypad">
      <button type="button"></button>
    </div>
    <div class="controls">
      <button type="button" class="start" title="Play sample">Play</button>
      <button type="button" class="stop" title="Stop all playback">Stop</button>
    </div>
    </div>
  </template>

  <template id="template:toolbar">
    <div class="controls">
      <button type="button" class="instrument-data" title="View instrument parameters">Show params</button>
      <button type="button" class="instrument-edit" title="Edit instrument parameters">Edit params</button>
      <button type="button" class="export-pti" title="Download instrument as .pti file">Export .pti</button>
      <button type="button" class="export-wav" title="Download sample as .wav file">Export .wav</button>
    </div>
  </template>

  <template id="template:instrument-data-table">
    <table>
      <tr>
        <th></th>
        <td></td>
      </tr>
    </table>
  </template>

  <template id="template:instrument-editor">
    <form>
      <fieldset>
        <legend>Instrument parameters</legend>
        <table>
          <tr>
            <th><label for="pti-instrument-name">Name</label></th>
            <td><input type="text" id="pti-instrument-name" name="name" maxlength="31" pattern="[x00-x7F]+"></td>
          </tr>
          <tr>
            <th><label for="pti-instrument-volume">Volume</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-volume" name="volume" min="0" max="100">
                <output name="volume-result" for="pti-instrument-volume"></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for="pti-instrument-panning">Panning</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-panning" name="panning" min="0" max="100">
                <output name="panning-result" for="pti-instrument-panning"></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for="pti-instrument-tune">Tune</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-tune" name="tune" min="-24" max="24">
                <output name="tune-result" for="pti-instrument-tune"></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for="pti-instrument-finetune">Finetune</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-finetune" name="finetune" min="-100" max="100">
                <output name="finetune-result" for="pti-instrument-finetune"></output>
              </div>
            </td>
          </tr>
        </table>
      </fieldset>
      <fieldset>
        <legend>Effects</legend>
        <table>
          <tr>
            <th><label for="pti-instrument-overdrive">Overdrive</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-overdrive" name="overdrive" min="0" max="100">
                <output name="overdrive-result" for="pti-instrument-overdrive"></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for="pti-instrument-bitDepth">Bit depth</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-bitDepth" name="bitDepth" min="1" max="16">
                <output name="bitDepth-result" for="pti-instrument-bitDepth"></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for="pti-instrument-reverbSend">Reverb send</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-reverbSend"" name="reverbSend"" min="0" max="100">
                <output name="reverbSend-result" for="pti-instrument-reverbSend""></output>
              </div>
            </td>
          </tr>
          <tr>
            <th><label for=" pti-instrument-delaySend">Delay send</label></th>
            <td>
              <div class="range-output">
                <input type="range" id="pti-instrument-delaySend" name="delaySend" min="0" max="100">
                <output name="delaySend-result" for="pti-instrument-delaySend"></output>
              </div>
            </td>
          </tr>
        </table>
      </fieldset>
    </form>
  </template>
</body>
</html>
